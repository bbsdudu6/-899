<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èŠ’æ ¼å†³ç­–å¤åˆ©ç³»ç»Ÿ - ç¨³å®šä¿®å¤ç‰ˆ</title>
    <!-- åŸºç¡€ React åº“ -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); }
        /* è‡ªå®šä¹‰æ»‘å—æ ·å¼ */
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: #2563eb;
            cursor: pointer;
            margin-top: -8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #e2e8f0;
            border-radius: 2px;
        }
    </style>
</head>
<body class="bg-slate-50">
    <div id="root"></div>

    <script type="text/babel">
        // --- æ ¸å¿ƒä¿®å¤ï¼šå†…ç½®å›¾æ ‡åº“ (å½»åº•è§£å†³ React Error #130) ---
        // æˆ‘ä»¬ç›´æ¥å°† SVG è·¯å¾„å†™å…¥ï¼Œä¸å†ä¾èµ–å¤–éƒ¨è„šæœ¬åŠ è½½ï¼Œä¿è¯ 100% ç¨³å®šã€‚
        const Icons = {
            Target: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>
            ),
            ShieldCheck: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="m9 12 2 2 4-4"/></svg>
            ),
            Layers: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/></svg>
            ),
            TrendingUp: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>
            ),
            CheckCircle: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
            ),
            BookOpen: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
            ),
            Info: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
            ),
            HelpCircle: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
            ),
            ArrowRight: (props) => (
                <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
            )
        };

        const App = () => {
            const [decision, setDecision] = React.useState({
                inCircle: false,
                noFatalFlaw: false,
                factors: [],
                winRate: 50,
                potentialGain: 10,
                potentialLoss: 10,
            });

            const mentalModels = [
                { id: 'psych', label: 'å¿ƒç†å­¦ï¼šç¤¾ä¼šè®¤åŒ', desc: 'æ˜¯å¦å› ä¸ºåˆ«äººéƒ½åœ¨åšæˆ‘ä¹Ÿæƒ³åšï¼Ÿ' },
                { id: 'bio', label: 'ç”Ÿç‰©å­¦ï¼šè¿›åŒ–ç«äº‰', desc: 'è¿™ä¸ªäº§å“æ˜¯å¦æœ‰ç‹¬ç‰¹çš„â€œç”Ÿæ€ä½â€ï¼Ÿ' },
                { id: 'econ', label: 'ç»æµå­¦ï¼šè§„æ¨¡ä¼˜åŠ¿', desc: 'é‡å¤§åæˆæœ¬æ˜¯å¦ä¼šæ˜¾è‘—é™ä½ï¼Ÿ' },
                { id: 'math', label: 'æ•°å­¦ï¼šå¤åˆ©æ•ˆåº”', desc: 'è¿™æ˜¯èƒ½äº§ç”Ÿâ€œåˆ©æ»šåˆ©â€çš„äº‹å—ï¼Ÿ' },
                { id: 'phys', label: 'ç‰©ç†å­¦ï¼šä¸´ç•Œè´¨é‡', desc: 'æ˜¯å¦éœ€è¦è¾¾åˆ°æŸä¸ªç‚¹æ‰èƒ½çˆ†å‘ï¼Ÿ' }
            ];

            const toggleFactor = (id) => {
                setDecision(prev => ({
                    ...prev,
                    factors: prev.factors.includes(id) 
                        ? prev.factors.filter(f => f !== id) 
                        : [...prev.factors, id]
                }));
            };

            const expectedValue = React.useMemo(() => {
                const pWin = decision.winRate / 100;
                const pLoss = 1 - pWin;
                return (pWin * decision.potentialGain) - (pLoss * decision.potentialLoss);
            }, [decision]);

            const verdict = React.useMemo(() => {
                if (!decision.inCircle) return { status: 'rejected', text: 'æ‹’ç»ï¼šè¶…å‡ºèƒ½åŠ›åœˆ', sub: 'çŸ¥ä¹‹ä¸ºçŸ¥ä¹‹ï¼Œä¸çŸ¥ä¸ºä¸çŸ¥ã€‚' };
                if (!decision.noFatalFlaw) return { status: 'rejected', text: 'ä¸€ç¥¨å¦å†³ï¼šå‘ç°è‡´å‘½ä¼¤', sub: 'é€†å‘æ€ç»´å‘Šè¯‰ä½ ï¼šé¿å¼€å¿…æ­»ä¹‹åœ°ã€‚' };
                if (decision.factors.length >= 3 && expectedValue > 5) return { status: 'gold', text: 'ä¼Ÿå¤§æœºä¼šï¼šLollapaloozaï¼', sub: 'å¤šé‡é€»è¾‘å…±æŒ¯ï¼Œé‡ä»“å‡ºå‡»ï¼' };
                return expectedValue > 0 ? { status: 'neutral', text: 'æ™®é€šæœºä¼š', sub: 'å°æ³¨å°è¯•ï¼Œä¿æŒè§‚å¯Ÿã€‚' } : { status: 'rejected', text: 'æ‹’ç»ï¼šæ•°å­¦æ€§äºæŸ', sub: 'æ¦‚ç‡ä¸ç«™åœ¨ä½ è¿™è¾¹ã€‚' };
            }, [decision, expectedValue]);

            return (
                <div className="max-w-6xl mx-auto py-8 px-4 pb-20">
                    {/* é¡¶éƒ¨æ ‡é¢˜åŒº */}
                    <div className="gradient-bg text-white p-10 rounded-t-3xl shadow-2xl relative overflow-hidden">
                        <div className="relative z-10">
                            <h1 className="text-4xl font-black tracking-tighter flex items-center gap-3">
                                <Icons.Target className="text-blue-400" /> MUNGER DECISION SYSTEM
                            </h1>
                            <p className="text-slate-400 mt-3 text-lg max-w-2xl font-medium">
                                â€œå¦‚æœä½ ä¸å­¦ä¹  80 åˆ° 90 ä¸ªæ¨¡å‹ï¼Œä½ å°±æˆäº†ä¸€ä¸ªåªæœ‰ä¸€æ ¹ç­‹çš„ç˜¸å­ã€‚â€
                            </p>
                        </div>
                        <div className="absolute right-[-20px] top-[-20px] opacity-10 pointer-events-none">
                            <Icons.ShieldCheck width="240" height="240" />
                        </div>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-0 bg-white shadow-2xl rounded-b-3xl overflow-hidden border border-slate-200">
                        {/* å·¦ä¾§æ§åˆ¶é¢æ¿ */}
                        <div className="lg:col-span-2 p-8 border-r border-slate-100 space-y-10">
                            
                            {/* è¿‡æ»¤å™¨ 01 */}
                            <section>
                                <h3 className="text-sm font-black text-slate-400 uppercase tracking-[0.2em] mb-6 flex items-center gap-2">
                                    <Icons.ShieldCheck size={18} className="text-blue-600"/> 01. æ ¸å¿ƒç”Ÿå­˜è¿‡æ»¤å™¨
                                </h3>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div 
                                        className={`p-5 rounded-2xl border-2 transition-all cursor-pointer select-none ${decision.inCircle ? 'border-blue-500 bg-blue-50' : 'border-slate-100 bg-slate-50 hover:bg-slate-100'}`} 
                                        onClick={() => setDecision(d => ({...d, inCircle: !d.inCircle}))}
                                    >
                                        <div className="flex justify-between items-start">
                                            <span className="font-black text-slate-800">èƒ½åŠ›åœˆè‡ªæ£€</span>
                                            {decision.inCircle ? <Icons.CheckCircle className="text-blue-500" /> : <div className="w-6 h-6 rounded-full border-2 border-slate-300" />}
                                        </div>
                                        <p className="text-xs text-slate-500 mt-2 leading-relaxed italic">å¤‡æ³¨ï¼šæˆ‘æ˜¯å¦èƒ½ç”¨ä¸‰å¥è¯å†™å‡ºæ­¤ä¸šåŠ¡çš„åº•å±‚å…¬å¼ï¼Ÿ</p>
                                    </div>
                                    <div 
                                        className={`p-5 rounded-2xl border-2 transition-all cursor-pointer select-none ${decision.noFatalFlaw ? 'border-red-500 bg-red-50' : 'border-slate-100 bg-slate-50 hover:bg-slate-100'}`} 
                                        onClick={() => setDecision(d => ({...d, noFatalFlaw: !d.noFatalFlaw}))}
                                    >
                                        <div className="flex justify-between items-start">
                                            <span className="font-black text-slate-800">é€†å‘æ€ç»´æ‰«æ</span>
                                            {decision.noFatalFlaw ? <Icons.CheckCircle className="text-red-500" /> : <div className="w-6 h-6 rounded-full border-2 border-slate-300" />}
                                        </div>
                                        <p className="text-xs text-slate-500 mt-2 leading-relaxed italic">å¤‡æ³¨ï¼šå¦‚æœè¿™ä»¶äº‹å½»åº•æç ¸äº†ï¼Œé‚£ä¸ªè®©æˆ‘â€œæ­»â€çš„å› ç´ æ˜¯å¦å¯æ§ï¼Ÿ</p>
                                    </div>
                                </div>
                            </section>

                            {/* è¿‡æ»¤å™¨ 02 */}
                            <section>
                                <h3 className="text-sm font-black text-slate-400 uppercase tracking-[0.2em] mb-6 flex items-center gap-2">
                                    <Icons.Layers size={18} className="text-purple-600"/> 02. å¤šå…ƒæ¨¡å‹å…±é¸£å› å­
                                </h3>
                                <div className="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                    {mentalModels.map(m => (
                                        <button 
                                            key={m.id} 
                                            onClick={() => toggleFactor(m.id)} 
                                            className={`text-left p-3 px-4 rounded-xl text-sm transition-all border-2 ${decision.factors.includes(m.id) ? 'bg-slate-900 text-white border-slate-900 shadow-lg scale-[1.02]' : 'bg-white text-slate-600 border-slate-100 hover:border-slate-300'}`}
                                        >
                                            <div className="font-bold">{m.label}</div>
                                            <div className={`text-[10px] mt-1 ${decision.factors.includes(m.id) ? 'text-slate-400' : 'text-slate-400'}`}>{m.desc}</div>
                                        </button>
                                    ))}
                                </div>
                            </section>

                            {/* è¿‡æ»¤å™¨ 03 */}
                            <section>
                                <h3 className="text-sm font-black text-slate-400 uppercase tracking-[0.2em] mb-6 flex items-center gap-2">
                                    <Icons.TrendingUp size={18} className="text-green-600"/> 03. æœŸæœ›å€¼æ•°å­¦æµ‹è¯•
                                </h3>
                                <div className="bg-slate-50 p-6 rounded-2xl border border-slate-100">
                                    <input 
                                        type="range" 
                                        className="w-full mb-8 appearance-none bg-transparent"
                                        min="0" max="100"
                                        value={decision.winRate} 
                                        onChange={e => setDecision(d => ({...d, winRate: parseInt(e.target.value)}))}
                                    />
                                    <div className="grid grid-cols-3 gap-4 text-center">
                                        <div>
                                            <p className="text-[10px] text-slate-400 uppercase font-bold tracking-wider">æˆåŠŸæ¦‚ç‡</p>
                                            <p className="text-2xl font-black text-blue-600 tabular-nums">{decision.winRate}%</p>
                                        </div>
                                        <div>
                                            <p className="text-[10px] text-slate-400 uppercase font-bold tracking-wider">ç›ˆäºæ¯”</p>
                                            <div className="flex items-center justify-center gap-2">
                                                <input 
                                                    type="number" 
                                                    className="w-12 text-center bg-transparent border-b border-slate-300 text-sm font-bold"
                                                    value={decision.potentialGain}
                                                    onChange={e => setDecision(d => ({...d, potentialGain: parseFloat(e.target.value) || 0}))}
                                                />
                                                <span className="text-slate-400">:</span>
                                                <input 
                                                    type="number" 
                                                    className="w-12 text-center bg-transparent border-b border-slate-300 text-sm font-bold"
                                                    value={decision.potentialLoss}
                                                    onChange={e => setDecision(d => ({...d, potentialLoss: parseFloat(e.target.value) || 0}))}
                                                />
                                            </div>
                                        </div>
                                        <div>
                                            <p className="text-[10px] text-slate-400 uppercase font-bold tracking-wider">æ•°å­¦æœŸæœ›å€¼ (EV)</p>
                                            <p className={`text-2xl font-black tabular-nums ${expectedValue > 0 ? 'text-green-600' : 'text-red-600'}`}>{expectedValue.toFixed(1)}</p>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>

                        {/* å³ä¾§ç»“æœé¢æ¿ */}
                        <div className={`p-8 flex flex-col items-center justify-between text-center transition-colors duration-500 ${
                            verdict.status === 'gold' ? 'bg-yellow-50' : 
                            verdict.status === 'rejected' ? 'bg-red-50' : 'bg-blue-50'
                        }`}>
                            <div className="space-y-6 mt-10">
                                <div className="text-8xl animate-bounce-slow">
                                    {verdict.status === 'gold' ? 'ğŸ’' : verdict.status === 'rejected' ? 'ğŸ›‘' : 'âš–ï¸'}
                                </div>
                                <div>
                                    <h2 className={`text-3xl font-black mb-4 tracking-tight ${
                                        verdict.status === 'gold' ? 'text-yellow-800' : 
                                        verdict.status === 'rejected' ? 'text-red-800' : 'text-blue-800'
                                    }`}>{verdict.text}</h2>
                                    <p className="text-slate-600 text-sm max-w-[240px] mx-auto italic leading-relaxed border-t border-b border-black/5 py-4">â€œ{verdict.sub}â€</p>
                                </div>
                            </div>

                            <div className="w-full space-y-4 mb-4 text-left">
                                <div className="bg-white/80 backdrop-blur-sm p-5 rounded-2xl border border-white shadow-sm">
                                    <p className="text-[10px] font-black text-slate-400 uppercase mb-3 tracking-wider">ğŸ’¡ æŸ¥ç†Â·èŠ’æ ¼çš„ç§äººå¤‡å¿˜å½•</p>
                                    <ul className="text-xs text-slate-700 space-y-3">
                                        <li className="flex gap-2.5 items-start">
                                            <Icons.ArrowRight size={14} className="mt-0.5 shrink-0 text-blue-500"/> 
                                            <span><strong>ä¸“æ³¨è¾¹ç•Œï¼š</strong> åªæœ‰åœ¨ä½ çŸ¥é“è‡ªå·±ä¸çŸ¥é“ä»€ä¹ˆæ—¶ï¼Œä½ æ‰æ˜¯èªæ˜çš„ã€‚</span>
                                        </li>
                                        <li className="flex gap-2.5 items-start">
                                            <Icons.ArrowRight size={14} className="mt-0.5 shrink-0 text-blue-500"/> 
                                            <span><strong>é˜²å¾¡ä¼˜å…ˆï¼š</strong> åªè¦ä¸ç ´äº§ï¼Œä½ å°±æœ‰æœºä¼šé å¤åˆ©èµ¢å¾—ä¸€åˆ‡ã€‚</span>
                                        </li>
                                        <li className="flex gap-2.5 items-start">
                                            <Icons.ArrowRight size={14} className="mt-0.5 shrink-0 text-blue-500"/> 
                                            <span><strong>ç­‰å¾…å‡»çƒï¼š</strong> ä¸€å¹´åªéœ€è¦ä¸€ä¸¤ä¸ªä¼Ÿå¤§çš„å†³å®šï¼Œå‰©ä¸‹çš„æ—¶é—´æ˜¯ç­‰å¾…ã€‚</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* åº•éƒ¨å‘æ•£æ€ç»´åŒº */}
                    <div className="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div className="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                            <h4 className="font-black text-slate-800 mb-3 flex items-center gap-2"><Icons.BookOpen size={18} className="text-blue-600"/> æ‰¹åˆ¤æ€§åæ€</h4>
                            <p className="text-xs text-slate-500 leading-relaxed">
                                è¿™ä¸ªç³»ç»Ÿçš„é£é™©åœ¨äºâ€œè‡ªæ¬ºæ¬ºäººâ€ã€‚å¦‚æœä½ ä¸»è§‚è°ƒé«˜äº†èƒœç‡è€Œæ²¡æœ‰å®¢è§‚è¯æ®æ”¯æŒï¼Œé‚£ä¹ˆæ•°å­¦æœŸæœ›å€¼å°±æ˜¯æ¯’è¯ã€‚
                            </p>
                        </div>
                        <div className="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                            <h4 className="font-black text-slate-800 mb-3 flex items-center gap-2"><Icons.Info size={18} className="text-purple-600"/> å®é™…æ‰§è¡Œæ¡ˆä¾‹</h4>
                            <p className="text-xs text-slate-500 leading-relaxed">
                                èŠ’æ ¼æŠ•èµ„æ¯”äºšè¿ªï¼šå½“æ—¶æ¯”äºšè¿ªæ‹¥æœ‰æä½æˆæœ¬ä¼˜åŠ¿ï¼ˆè§„æ¨¡ä¼˜åŠ¿ï¼‰+ ä¼˜ç§€çš„ç®¡ç†å±‚ï¼ˆå¿ƒç†å­¦ä¿¡å¿ƒï¼‰+ ç”µæ± æŠ€æœ¯è¶‹åŠ¿ï¼ˆç”Ÿç‰©å­¦è¿›åŒ–ï¼‰ã€‚
                            </p>
                        </div>
                        <div className="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                            <h4 className="font-black text-slate-800 mb-3 flex items-center gap-2"><Icons.HelpCircle size={18} className="text-orange-600"/> å‘æ•£æ€§åº”ç”¨</h4>
                            <p className="text-xs text-slate-500 leading-relaxed">
                                å†³ç­–æ ‘ä¸ä»…ç”¨äºæŠ•èµ„ã€‚åœ¨é€‰æ‹©ä¼´ä¾£æ—¶ï¼Œé€†å‘æ€è€ƒâ€œå“ªäº›æ€§æ ¼ä¼šå¯¼è‡´æˆ‘å¿…ç„¶ç—›è‹¦â€æ¯”å¯»æ‰¾â€œç™½é©¬ç‹å­â€æ›´é‡è¦ã€‚
                            </p>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
